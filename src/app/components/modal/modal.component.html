<div #myModal class="container">
  <div class="content">
    <div class="container-header">
      <h1>Create new user</h1>
      <button (click)="close()">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><defs><style>.a{fill:#a4a4b5;}.b{fill:none;}</style></defs><path class="a" d="M19,6.41,17.59,5,12,10.59,6.41,5,5,6.41,10.59,12,5,17.59,6.41,19,12,13.41,17.59,19,19,17.59,13.41,12Z"/><path class="b" d="M0,0H24V24H0Z"/></svg>
      </button>
    </div>
    <form [formGroup]="form" (ngSubmit)="onSubmit()">
      <fieldset>
        <div class="form-row">
          <label for="username" class="required">Username</label>
          <input id="username" type="text" formControlName="userName">
          <validation-message controlKey="userName"></validation-message>
        </div>
        <div class="form-row">
          <label for="firstName" class="required">First name</label>
          <input id="firstName" type="text" formControlName="firstName">
          <validation-message controlKey="firstName"></validation-message>
        </div>
        <div class="form-row">
          <label for="lastName" class="required">Last name</label>
          <input id="lastName" type="text" formControlName="lastName">
          <validation-message controlKey="lastName"></validation-message>
        </div>
        <div class="form-row">
          <label for="email" class="required">Email</label>
          <input id="email" type="text" formControlName="email" placeholder="@">
          <validation-message controlKey="email"></validation-message>
        </div>
        <div class="form-row">
          <label for="type" class="required">Type</label>
          <select id="type" formControlName="type" required="true">
            <option *ngFor="let type of types">
              {{ type }}
            </option>
          </select>
          <validation-message controlKey="type"></validation-message>
        </div>
        <div formGroupName="passwordGroup">
          <div class="form-row">
            <label for="password" class="required">Password</label>
            <input id="password" type="password" autocomplete="on" formControlName="password">
            <validation-message controlKey="password" groupName="passwordGroup"></validation-message>
          </div>
          <div *ngIf="action === 'create'" class="form-row">
            <label for="confirmPassword" class="required">Confirm Password</label>
            <input id="confirmPassword" type="password" autocomplete="on" formControlName="confirmPassword">
            <validation-message controlKey="passwordGroup"></validation-message>
          </div>
        </div>
      </fieldset>
      <div class="control_buttons" [ngStyle]="{'justify-content': (action === 'create' ? 'center' : 'space-between')}">
          <button *ngIf="action === 'edit'" type="button" class="delete_button" (click)="onDelete()">Delete</button>
          <button
            [disabled]='form.invalid'
            class="submit_button"
          >
            {{ action === 'create' ? 'Create' : 'Save'}}
          </button>
      </div>
    </form>

  </div>
</div>
